<!DOCTYPE html>
<html lang="en-us">
  <head>
  <title> This week on Perl 6, week ending 2003-06-22 </title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content=" Welcome to my first anniversary issue of the Perl 6 Summary. Hopefully there won&#39;t be too many more anniversaries to celebrate before we have a real, running Perl 6, but there&#39;s bound to be ongoing development after that. My..."/>
  <meta name="robots" content="index, follow">
  <meta name="google-site-verification" content="TZowffo_LX2mmsw2DbeNNbukCMnIOA8T-6CMJPiYllI" />

<meta property="twitter:card" content="summary">
<meta property="twitter:site" content="@PerlFoundation">
<meta property="og:url" content="http://localhost:1313/pub/2003/06/p6pdigest/20030622.html/" />
<meta property="og:title" content="This week on Perl 6, week ending 2003-06-22" />
<meta property="og:description" content=" Welcome to my first anniversary issue of the Perl 6 Summary. Hopefully there won&#39;t be too many more anniversaries to celebrate before we have a real, running Perl 6, but there&#39;s bound to be ongoing development after that. My...">
<meta property="og:site_name" content="Perl.com" />

<meta property="og:type" content="article" />
<meta property="og:article:published_time" content="2003-06-06T06:06:06Z" />
<meta property="og:image" content="http://localhost:1313/images/author/piers-cawley.jpg" />
<meta property="og:article:tag" content="perl-6-internals-parrot" />


  <link rel="icon" href="/favicon.ico">
  <link href="/article/index.xml" rel="alternate" type="application/rss+xml" title="Perl.com - programming news, code and culture" />
  <link href="/article/index.xml" rel="feed" type="application/rss+xml" title="Perl.com - programming news, code and culture" />
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="/css/perldotcom.css"/>


<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-50555-22', 'auto');
ga('create', 'UA-85734801-2', 'auto', 'editor');
ga('send', 'pageview');
ga('editor.send', 'pageview');
</script>

</head>
<body>

<div class="container-fluid full-wdith antonio">
 <div class="row">
  <div class="navbar-inverse" style="border-radius:none !important" role="navigation">
    <div class="container-fluid">
      <ul class="nav navbar-nav pull-right follow">
          <li>MORE:</li>
          <li><a href="https://perl.org">
              <img src="/images/site/perl-onion_20.png" alt="Perl Onion"></a><li>
          <li><a href="https://twitter.com/intent/follow?screen_name=perlfoundation">
              <img src="/images/site/twitter_20.png" alt="twitter"></a><li>
          <li><a href="/article/index.xml" />
              <img src="/images/site/rss_20.png" alt="rss"></a></li>
          <li><a href="https://github.com/tpf/perldotcom" />
              <img src="/images/site/github_light_20.png" alt="GitHub logo"></a></li>
      </ul>
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
          <a class="navbar-nav" href="/">
            <div class="header-logo">Perl.com</div>
          </a>
      </div>
      <div class="navbar-collapse collapse">
        <ul class="nav navbar-nav">
          <li><a href="/about">
              <div class="circle">
                <img src="/images/site/perl-camel.png" alt="" />
              </div>
                  &nbsp;&nbsp;ABOUT</a>
          </li>
          <li><a href="/authors">
              <div class="circle">
                  <span class="glyphicon glyphicon-user txt-blue-major" aria-hidden="true"></span>
              </div>
                  &nbsp;&nbsp;AUTHORS</a>
          </li>
          <li><a href="/categories">
              <div class="circle">
                  <span class="glyphicon glyphicon-folder-open txt-blue-major" aria-hidden="true"></span>
              </div>
                  &nbsp;&nbsp;CATEGORIES</a>
          </li>
          <li><a href="/tags">
              <div class="circle">
                <span class="txt-blue-major" aria-hidden="true"><strong>#</strong></span>
              </div>
                  &nbsp;&nbsp;TAGS</a>
          </li>
          <li>
            <form class="search" name="ddg" action="https://duckduckgo.com/" method="get">
              <input type="text" name ="q" placeholder="SEARCH" />
              <input type="hidden" value="perl.com" name="sites" />
            </form>
          </li>
        </ul>
      </div>
    </div>
  </div>
 </div>
</div>


  <section id="content" role="main">
    <section class="entry-content">
      <div class="container">
        <div class="row">
          <div class="col-md-9">
            <div class="row">
              <article class="fulltext">
              <h1 class="blog-post-title">This week on Perl 6, week ending 2003-06-22</h1>
              <p class="blog-post-meta">Jun 23, 2003 by
              
              
                
                
                <a href="#author-bio-piers-cawley">Piers Cawley</a>
              
              </p>
              <img alt="" src=""/>
                

<p>Welcome to my first anniversary issue of the Perl 6 Summary. Hopefully there won&rsquo;t be too many more anniversaries to celebrate before we have a real, running Perl 6, but there&rsquo;s bound to be ongoing development after that. My job is secure!</p>

<p>Because I can&rsquo;t think of anything better to do, I&rsquo;ll start with the action on the perl6-internals list.</p>

<h3 id="converting-parrot-to-continuation-passing-style">Converting parrot to continuation passing style</h3>

<p>The ongoing effort to convert Parrot to use/support continuation passing style (CPS) at the assembler level continues. Jonathan Sillito offered another patch implementing the require support, which Dan liked and applied.</p>

<p><a href="http://groups.google.com/groups?threadm=3EF35FFC.3080801%40softhome.net">http://groups.google.com/groups</a></p>

<p>Klaas-Jan Stol wondered what he&rsquo;d missed; last time he looked Parrot wasn&rsquo;t doing continuation passing. He asked why Dan had chosen to go down that route. Dan answered that he had realized that &ldquo;we had to save off so much state that we essentially had a continuation anyway&rdquo;. Explicitly going with continuation passing just made things more formal, and wrapped up all the context saving behind a straightforward interface. He promised a more detailed explanation later.</p>

<p><a href="http://groups.google.com/groups?threadm=a0521060dbb1b83b3bddf%40%5B63.120.19.221%5D">http://groups.google.com/groups</a></p>

<h3 id="portable-way-of-finding-libc-unbuffered-reads">Portable way of finding libc, unbuffered reads</h3>

<p>Clinton Pierce noted that the following code:</p>

<pre><code>    loadlib P1, &quot;/lib/libc.so.6&quot;
    dlfunc P0, P1, &quot;system&quot;, &quot;it&quot;
    set I0, 1
    set S5, &quot;ls&quot;
    invoke
    end
</code></pre>

<p>just works, which simultaneously pleases and scares him silly. He wondered if there was a good way of finding the standard C library on a Unix system without scary hardwiring as in the fragment above. He also wondered if there was an &ldquo;official&rdquo; way of getting an unbuffered read via parrot.</p>

<p>Jens Rieks came up with a gloriously evil way of finding libc. The theory goes that Parrot is linked against libc, so you just have to <code>dlopen</code> the running image and you can call libc functions to your heart&rsquo;s content. To dlopen the running image you need to pass a NULL pointer to the underlying <code>loadlib</code> so he offered a patch to <em>core.ops</em> which interpreted an empty string as a pointer to NULL. Leo and Dan were impressed and the patch (or something similar) was applied. I get the feeling that Dan wants to do something a little less hacky to access the current executable though&hellip;.</p>

<p>Clint noted that the dlopen the running image by passing a null pointer trick doesn&rsquo;t work with Windows, but outlined a workaround for that too. Jen Rieks suggested a better Windows workaround.</p>

<p>Nobody came up with an approved way of doing <code>getc</code>, but once you have libc loaded you can just use its <code>getc</code>.</p>

<p><a href="http://groups.google.com/groups?threadm=5.1.0.14.2.20030616163614.01f8db18%40mail.geeksalad.org">http://groups.google.com/groups</a></p>

<h3 id="oo-objects">OO, Objects</h3>

<p>If you look in a fresh from CVS parrot directory you&rsquo;ll now find <em>object.ops</em>, which will be the cause of much rejoicing in many places. Dan&rsquo;s nailed the object spec down enough that he&rsquo;s started implementing a few of the required ops. As he points out, what we have is &ldquo;hardly sufficient&rdquo;, but everyone&rsquo;s got to start somewhere, the journey of a thousand miles begins with but a single step, etc.</p>

<p>Judging by the number of comments (none), everyone was stunned into silence.</p>

<p><a href="http://groups.google.com/groups?threadm=a05210600bb16013a7965%40%5B63.120.19.221%5D">http://groups.google.com/groups</a></p>

<h3 id="more-cps-shenanigans">More CPS shenanigans</h3>

<p>I get the strong feeling that Leo Tötsch isn&rsquo;t entirely happy with the new Continuation Passing Style regime. He&rsquo;s worried that the P6C tests break, and that CPS subs are some 3 times slower for calling the sub. This led into a discussion of what context really must go into a continuation, whether we can get away with different classes of continuation (hold more or less contextual information) and other ways of possibly speeding things up.</p>

<p>I&rsquo;m not sure Leo has been entirely convinced, but I&rsquo;m confident that Dan&rsquo;s not going to change his mind about this.</p>

<p>Leo later submitted a large patch which unifies the various subroutine related PMCs to take into account CPS.</p>

<p><a href="http://groups.google.com/groups?threadm=3EF08047.8070803%40nextra.at">http://groups.google.com/groups</a></p>

<h3 id="exceptions">Exceptions</h3>

<p>Now that the rules for subs/methods etc are settling down, Dan outlined his thoughts on exception handlers. If I&rsquo;m understanding him correctly, an exception handler is just a continuation that you invoke with the exception as its only argument. There were no comments by the end of the week.</p>

<p><a href="http://groups.google.com/groups?threadm=a0521060abb1a415c7209%40%5B63.120.19.221%5D">http://groups.google.com/groups</a></p>

<h2 id="meanwhile-in-perl6-language">Meanwhile in perl6-language</h2>

<p>The language list was quiet again. Maybe everyone was doing face to face things at YAPC. Or on holiday. Or something.</p>

<h3 id="printf-like-formatting-in-interpolated-strings"><code>printf</code> like formatting in interpolated strings</h3>

<p>Remember last week I mentioned that Luke Palmer had made a cool suggestion about <code>printf</code> like formatting in string interpolation? (He suggested a syntax like <code>rx/&lt;expression&gt; but formatted(&lt;formatspec&gt;)/</code>, which I for one quite liked).</p>

<p>Edwin Steiner wasn&rsquo;t so keen, noting that Luke&rsquo;s suggestion was actually more verbose than <code>rx/sprintf &lt;formatspec&gt;, &lt;expression&gt;/</code>. He wasn&rsquo;t entirely sure that having a formatting rule attached to a value with a &lsquo;but&rsquo; was really the right thing to do (it does rather violate the whole model/view/controller abstraction for instance). Edwin&rsquo;s favoured interpolation syntax was,</p>

<pre><code>  rule formatted_interpolation {\\F &lt;formatspec&gt; &lt;interpolatable_atom&gt;}
  rule formatspec { # sprintf format without '%' 
  }
  rule interpolatable_atom { &lt;variable&gt; | \$\( &lt;expr&gt; \) }
</code></pre>

<p>(or something along those lines). Edwin went on to extend his idea, allowing for all sorts of clever interpolation rules, leading Dave Storrs to comment that the Obfuscated Perl people would certainly thank him if the suggestions went in.</p>

<p>Arcadi Shehter came up with yet another suggested syntax involving <code>:</code> (neglecting the important rule that, whilst one&rsquo;s heart may belong to Daddy, the <code>:</code> belongs to Larry. And I&rsquo;m really trying not to think about the images that conjures up).</p>

<p>At this point, we ended up in a philosophical discussion about when was the right time to do stuff, generality of solutions and Perl remaining Perl. I remain confident that come the appropriate time, Larry and/or Damian (more likely Damian given some of the stuff he was showing off to do with formatting at YAPC) will nail things down and we&rsquo;ll all go &ldquo;Of course!&rdquo; and move onto the next thing.</p>

<p><a href="http://groups.google.com/groups?threadm=ygcwufmwx2x.fsf%40babylonia.flatirons.org">http://groups.google.com/groups</a></p>

<h3 id="dispatching-multimethods-and-the-like">Dispatching, Multimethods and the like</h3>

<p>Adam Turoff noted that, in his YAPC opening talk, Damian had mentioned the catchall DISPATCH sub, which will allow for altering the dispatch behaviour to do any magic you choose. The &lsquo;problem&rsquo; with DISPATCH is defining its interaction with the likes of AUTOLOAD and other built in dynamic dispatch behaviours, which will need to be nailed down.</p>

<p>Dan Sugalski jetted over from perl6-internals to give the lowdown on what would be available at the parrot level (which may or may not be exposed at the Perl 6 language level). Essentially, what we know is that there will be the capability to insert any dispatch method you like, but the details of how you&rsquo;d do it aren&rsquo;t thrashed out yet. It almost certainly won&rsquo;t be easy, but that&rsquo;s a good thing.</p>

<p><a href="http://groups.google.com/groups?threadm=20030616145807.GA16195%40panix.com">http://groups.google.com/groups</a></p>

<h3 id="type-conversion-matrix-pragmas-take-4">Type Conversion Matrix, Pragmas (Take 4)</h3>

<p>Discussion of Mike Lazzaro&rsquo;s type conversion matrix continued as people explored corner cases.</p>

<p><a href="http://groups.google.com/groups?threadm=319DBDC4-A01E-11D7-B141-000A277AA894%40cognitivity.com">http://groups.google.com/groups</a></p>

<h2 id="acknowledgements-announcements-and-apologies">Acknowledgements, Announcements and Apologies</h2>

<p>Whee! My first anniversary! I confess that when I started writing these things I didn&rsquo;t expect to keep going for this long. Now I don&rsquo;t expect to ever stop.</p>

<p>After due and careful consideration of a short shortlist, I should like to award an anniversary virtual white parrot award to Leopold &ldquo;Patchmonster&rdquo; Tötsch for his astonishing contribution to the Parrot core. Other mental nominees for this award were: Clinton A Pierce, for BASIC and the associated bug finding; Leon Brocard, for humorous reasons and Robert Spier and Ask Bjørn Johansen for invaluable and invisible work on websites, CVS and mailing list maintenance.</p>

<p>I eliminated the core design team from consideration for the above award, but I&rsquo;d like to formally thank Larry, Damian, Allison and Dan, without whom&hellip;</p>

<p>As I said last week, Leon Brocard is no longer the summaries&rsquo; running joke. However, I auctioned off the right to specify the next running joke at YAPC last week; next week should see the unveiling of the new, improved Perl 6 Summary Running Joke.</p>

<p>If you&rsquo;ve appreciated this summary, please consider one or more of the following options:</p>

<ul>
<li>Send money to the Perl Foundation at <a href="http://donate.perl-foundation.org/">http://donate.perl-foundation.org/</a> and help support the ongoing development of Perl.</li>
<li>Get involved in the Perl 6 process. The mailing lists are open to all. <a href="http://dev.perl.org/perl6/">http://dev.perl.org/perl6/</a> and <a href="http://www.parrotcode.org/">http://www.parrotcode.org/</a> are good starting points with links to the appropriate mailing lists.</li>
<li>Send feedback, flames, money, photographic and writing commissions, or a cute little iPod with a huge capacity to satisfy my technolust **.</li>
</ul>

              </article>
              <p><strong>Tags</strong></p>
              <div class="tags">
                <div class="category"><a href="/categories/perl-6">perl-6</a></div>
                
                  <div class="tag"><a href="/tags/perl-6-internals-parrot">perl-6-internals-parrot</a></div>
                
              </div>
            </div>
            
              
                
<div class="row" id="author-bio-piers-cawley">
  <div class="col-sm-2">
    
    <a href="/authors/piers-cawley/"><div class="circle-avatar" style="background-image:url(/images/author/piers-cawley.jpg)"></div></a>
  </div>
  <div class="col-sm-10">
    <a href="/authors/piers-cawley/"><h3>Piers Cawley</h3></a>
    <p></p>
    <h5><a href="/authors/piers-cawley/">Browse their articles</a></h5>
  </div>
</div>

            
            <div class="row">
              <h3>Feedback</h3>
              <p>Something wrong with this article? Help us out by opening an issue or pull request on <a href="https://github.com/tpf/perldotcom/blob/master/content/legacy/_pub_2003_06_p6pdigest_20030622.md">GitHub</a></p>
            </div>
          </div>
          <div class="col-md-3">
            <div class="latest-sidebar">

  <div class="row">
    <div class="col-sm-12 centering">
      <span style="font-size:1.8em" class="antonio txt-blue-major">OUR LATEST ARTICLES</span>
    </div>
  </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/the-perl-admbassador-curtis-poe/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/the-perl-ambassador-curtis-poe/curtis-poe.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>The Perl Ambassador: Curtis &#39;Ovid&#39; Poe</h6>
          <p style="line-height:1"><small>The person behind the news of Perl</small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/a-tour-with-net-ftp/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/a-tour-with-net-ftp/thumb_kidyes.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>A tour with Net::FTP</h6>
          <p style="line-height:1"><small>How to write an FTP client in Perl</small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/shortcode_test/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/author/brian-d-foy.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>shortcode_test</h6>
          <p style="line-height:1"><small></small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/listen-to-larry-wall-s-state-of-the-onion-2000-on-youtube/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/listen-to-larry-wall-s-state-of-the-onion-2000-on-youtube/thumb_larry-wall.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>Listen to Larry Wall&#39;s State of the Onion 2000 on YouTube</h6>
          <p style="line-height:1"><small></small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/announcing-perl-7/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/announcing-perl-7/thumb_seven_on_blue_wall.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>Announcing Perl 7</h6>
          <p style="line-height:1"><small>Perl 5 with modern defaults</small></p>
      </div>
        </a>
    </div>
  
</div>
<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
  <script async src="/widget/toplinks/toplinks.js" type="text/javascript"></script>
    <div id="toplinks"></div>
  </div>
</div>

<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
    <a class="twitter-timeline" data-height="640" data-dnt="true" data-theme="dark" href="https://twitter.com/perlfoundation?ref_src=twsrc%5Etfw">Tweets by perlfoundation</a> <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
  </div>
</div>

<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
    <script src="https://www.reddit.com/r/perl/hot/.embed?limit=10&t=all" type="text/javascript"></script>
  </div>
</div>



          </div>
        </div>
      </div>
    </section>
  </section>
<script>
 
var tables, i;
tables = document.getElementsByTagName('table');
for (i=0;i<tables.length;i++) {
  tables[i].className = 'table table-striped';
}
</script>
<div class="push"></div>
<div class="footer">
  <div class="container">
    <div class="row">
      <div class="col-md-1">
        <h5>Site Map</h5>
        <ul>
        <li><a href="/">Home</a></li>
        <hr>
        <li><a href="/about">About</a></li>
        <hr>
        <li><a href="/authors">Authors</a></li>
        <hr>
        <li><a href="/categories">Categories</a></li>
        <hr>
        <li><a href="/tags">Tags</a></li>
        <hr>
        </ul>
      </div>
      <div class="col-md-3">
        <h5>Contact Us</h5>
        <p>To get in touch, send an email to: perl.com-editor@perl.org</p>
        <p><a href="https://perl.org">
              <img src="/images/site/perl-onion_20.png" alt="Perl Onion"></a>
          <a href="https://twitter.com/intent/follow?screen_name=perlfoundation">
              <img src="/images/site/twitter_20.png" alt="twitter"></a>
          <a href="/index.xml" /><img src="/images/site/rss_20.png" alt="rss"></a>
          <a href="https://github.com/tpf/perldotcom">
              <img src="/images/site/github_light_20.png" alt="GitHub logo"></a></p>
      </div>
      <div class="col-md-2">
          <h5>License</h5>
          <p>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-nc/3.0/">Creative Commons Attribution-NonCommercial 3.0 Unported License</a>.</p>
          <p><a rel="license" href="https://creativecommons.org/licenses/by-nc/3.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc/3.0/88x31.png" /></a></p>
      </div>
      <div class="col-md-5">
          <h5>Legal</h5>
          <p>Perl.com and the authors make no representations with respect to the accuracy or completeness of the contents of all work on this website and specifically disclaim all warranties, including without limitation warranties of fitness for a particular purpose. The information published on this website may not be suitable for every situation. All work on this website is provided with the understanding that Perl.com and the authors are not engaged in rendering professional services. Neither Perl.com nor the authors shall be liable for damages arising herefrom.</p>
      </div>
    </div>
  </div>
</div>
<script src="/javascript/jquery.min.js"></script>
<script src="/javascript/bootstrap.min.js"></script>
<script data-no-instant>document.write('<script src="/livereload.js?port=1313&mindelay=10"></' + 'script>')</script></body>
</html>

