<!DOCTYPE html>
<html lang="en-us">
  <head>
  <title> This week on Perl 6, week ending 2003-10-12 </title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content=" Good afternoon readers. You find me sitting comfortably and tired after a vaguely frantic week involving large amounts of new (and huge) equipment, the delivery of a new Mini Cooper, and four days offline at a large format photography..."/>
  <meta name="robots" content="index, follow">
  <meta name="google-site-verification" content="TZowffo_LX2mmsw2DbeNNbukCMnIOA8T-6CMJPiYllI" />

<meta property="twitter:card" content="summary">
<meta property="twitter:site" content="@PerlFoundation">
<meta property="og:url" content="http://localhost:1313/pub/2003/10/p6pdigest/20031012.html/" />
<meta property="og:title" content="This week on Perl 6, week ending 2003-10-12" />
<meta property="og:description" content=" Good afternoon readers. You find me sitting comfortably and tired after a vaguely frantic week involving large amounts of new (and huge) equipment, the delivery of a new Mini Cooper, and four days offline at a large format photography...">
<meta property="og:site_name" content="Perl.com" />

<meta property="og:type" content="article" />
<meta property="og:article:published_time" content="2003-10-10T10:10:10Z" />
<meta property="og:image" content="http://localhost:1313/images/author/piers-cawley.jpg" />
<meta property="og:article:tag" content="perl-6-internals-parrot" />


  <link rel="icon" href="/favicon.ico">
  <link href="/article/index.xml" rel="alternate" type="application/rss+xml" title="Perl.com - programming news, code and culture" />
  <link href="/article/index.xml" rel="feed" type="application/rss+xml" title="Perl.com - programming news, code and culture" />
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="/css/perldotcom.css"/>


<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-50555-22', 'auto');
ga('create', 'UA-85734801-2', 'auto', 'editor');
ga('send', 'pageview');
ga('editor.send', 'pageview');
</script>

</head>
<body>

<div class="container-fluid full-wdith antonio">
 <div class="row">
  <div class="navbar-inverse" style="border-radius:none !important" role="navigation">
    <div class="container-fluid">
      <ul class="nav navbar-nav pull-right follow">
          <li>MORE:</li>
          <li><a href="https://perl.org">
              <img src="/images/site/perl-onion_20.png" alt="Perl Onion"></a><li>
          <li><a href="https://twitter.com/intent/follow?screen_name=perlfoundation">
              <img src="/images/site/twitter_20.png" alt="twitter"></a><li>
          <li><a href="/article/index.xml" />
              <img src="/images/site/rss_20.png" alt="rss"></a></li>
          <li><a href="https://github.com/tpf/perldotcom" />
              <img src="/images/site/github_light_20.png" alt="GitHub logo"></a></li>
      </ul>
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
          <a class="navbar-nav" href="/">
            <div class="header-logo">Perl.com</div>
          </a>
      </div>
      <div class="navbar-collapse collapse">
        <ul class="nav navbar-nav">
          <li><a href="/about">
              <div class="circle">
                <img src="/images/site/perl-camel.png" alt="" />
              </div>
                  &nbsp;&nbsp;ABOUT</a>
          </li>
          <li><a href="/authors">
              <div class="circle">
                  <span class="glyphicon glyphicon-user txt-blue-major" aria-hidden="true"></span>
              </div>
                  &nbsp;&nbsp;AUTHORS</a>
          </li>
          <li><a href="/categories">
              <div class="circle">
                  <span class="glyphicon glyphicon-folder-open txt-blue-major" aria-hidden="true"></span>
              </div>
                  &nbsp;&nbsp;CATEGORIES</a>
          </li>
          <li><a href="/tags">
              <div class="circle">
                <span class="txt-blue-major" aria-hidden="true"><strong>#</strong></span>
              </div>
                  &nbsp;&nbsp;TAGS</a>
          </li>
          <li>
            <form class="search" name="ddg" action="https://duckduckgo.com/" method="get">
              <input type="text" name ="q" placeholder="SEARCH" />
              <input type="hidden" value="perl.com" name="sites" />
            </form>
          </li>
        </ul>
      </div>
    </div>
  </div>
 </div>
</div>


  <section id="content" role="main">
    <section class="entry-content">
      <div class="container">
        <div class="row">
          <div class="col-md-9">
            <div class="row">
              <article class="fulltext">
              <h1 class="blog-post-title">This week on Perl 6, week ending 2003-10-12</h1>
              <p class="blog-post-meta">Oct 12, 2003 by
              
              
                
                
                <a href="#author-bio-piers-cawley">Piers Cawley</a>
              
              </p>
              <img alt="" src=""/>
                

<p>Good afternoon readers. You find me sitting comfortably and tired after a vaguely frantic week involving large amounts of new (and huge) equipment, the delivery of a new Mini Cooper, and four days offline at a large format photography workshop (photos will be going online soonish, if you&rsquo;re interested). All of which hopefully goes some way to explaining the fact that I&rsquo;ve only just started writing the summary at ten to four on Tuesday.</p>

<p>We start (and finish) with the internals list.</p>

<h4 id="span-id-new-pmc-compiler-new-pmc-compiler-span"><span id="new pmc compiler">New PMC compiler</span></h4>

<p>Leo Tötsch isn&rsquo;t exactly happy with the current <em>classes/pmc2c.pl</em> PMC compiler. He outlined the drawbacks as he sees them, proposed a scheme for reimplementing it, and asked for comments. Dan said that so long as the resulting code is clearer than the current PMC compiler, Leo should go for it. So he did.</p>

<p><a href="http://groups.google.com/groups?threadm=3F81348A.4050600%40toetsch.at">http://groups.google.com/groups</a></p>

<h4 id="span-id-the-status-of-language-credit-where-it-s-due-the-status-of-language-credit-where-it-s-due-span"><span id="the status of language, credit where it's due">The Status of Language, Credit Where It&rsquo;s Due</span></h4>

<p>Melvin Smith has added a <em>LANGUAGES.STATUS</em> file in the <em>languages/</em> subdirectory and asked for language authors to add summaries of the various language subdirectories to the file.</p>

<p>Fresh from this success he added a <em>CREDITS</em> file for giving credit where it&rsquo;s due. Rumours of an entry reading</p>

<pre><code>    N: Leon Brocard
    D: Running Joke
</code></pre>

<p>are (currently) false.</p>

<p>Later in the week, <em>LANGUAGES.STATUS</em> was extended to cover both the languages found in <em>languages/</em> but any other languages that people were working on and making available outside the Parrot distribution for whatever reason.</p>

<p><a href="http://groups.google.com/groups?threadm=5.1.1.6.2.20031006233300.06005698%40pop.mindspring.com">http://groups.google.com/groups</a></p>

<p><a href="http://groups.google.com/groups?threadm=5.1.1.6.2.20031007003542.0613c818%40pop.mindspring.com">http://groups.google.com/groups</a></p>

<h4 id="span-id-binary-mmd-vtable-functions-are-go-binary-mmd-vtable-functions-are-go-span"><span id="binary mmd vtable functions are go">Binary MMD vtable functions are go</span></h4>

<p>Dan&rsquo;s solved an off by one error with multimethod dispatch and checked everything in, so now Parrot has working two argument multimethod dispatch. Hurrah! There&rsquo;s still lots it doesn&rsquo;t do mind, but getting started is always good.</p>

<p><a href="http://groups.google.com/groups?threadm=Pine.LNX.4.58.0310070846320.16822%40sprite.sidhe.org">http://groups.google.com/groups</a></p>

<h4 id="span-id-attacking-the-unicode-monster-attacking-the-unicode-monster-span"><span id="attacking the unicode monster">Attacking the Unicode Monster</span></h4>

<p>Dan&rsquo;s searching for a Unicode Monster Wrangler. ICU is now building on enough platforms that the time has come to build an encoding and chartype library for it. Volunteers gratefully received.</p>

<p>Jeff Clites and Michael Scott have both been poking at it a bit; hopefully they&rsquo;ll be able to put their heads together and emerge with something wonderful.</p>

<p><a href="http://groups.google.com/groups?threadm=Pine.LNX.4.58.0310071149230.16822%40sprite.sidhe.org">http://groups.google.com/groups</a></p>

<h4 id="span-id-more-nci-stuff-more-nci-stuff-span"><span id="more nci stuff">More NCI stuff</span></h4>

<p>Dan&rsquo;s been a busy boy this week. Parrot now comes with <em>library/postgres.pasm</em>, an interface to libpq (the C library that talks to Postgres). These NCI interface files are currently built by hand. Tim Bunce wondered if it might be possible to ExtUtils::XSBuilder to generate PASM from C header files instead of XS code. It was generally agreed that this would be a cool thing, but it&rsquo;s not been done yet.</p>

<p><a href="http://groups.google.com/groups?threadm=Pine.LNX.4.58.0310071556120.16822%40sprite.sidhe.org">http://groups.google.com/groups</a></p>

<p><a href="http://www.postgresql.org/">http://www.postgresql.org/</a></p>

<h4 id="span-id-the-parrot-stack-and-zmachine-the-parrot-stack-and-z-machine-span"><span id="the parrot stack and zmachine">The Parrot Stack and Z-Machine</span></h4>

<p>Amir Karger is working on getting his head &lsquo;round the Z-Machine (The virtual machine that runs Zork and the other Infocom games, amongst others) by writing code to translate Z-code into a Perl executable. He came up with a problem with saving and restoring the stack in order to save the game state.</p>

<p><a href="http://groups.google.com/groups?threadm=20031007164754.57253.qmail%40web40703.mail.yahoo.com">http://groups.google.com/groups</a></p>

<h4 id="span-id-references-references-span"><span id="references">References</span></h4>

<p>Leo&rsquo;s been giving the Reference PMC a hard look and, as a result, suggests adding a couple of handy ops, <code>deref</code> and <code>ref</code> (which finds the type of the thing the reference refers to) to use with them. Melvin Smith pointed out that, actually we only needed one of Leo&rsquo;s proposed ops. On the other hand, as Nicholas Clark pointed out, <code>ref</code> avoids the need to grab another PMC register, which may cause a register spill. On the gripping hand, Melvin argued that spillage is pretty rare with the number of registers Parrot has.</p>

<p><a href="http://groups.google.com/groups?threadm=3F842968.1010606%40toetsch.at">http://groups.google.com/groups</a></p>

<h4 id="span-id-the-program-s-ending-destroy-everything-the-program-s-ending-destroy-everything-span"><span id="the program's ending! destroy everything!">The program&rsquo;s ending! DESTROY everything!</span></h4>

<p>Jürgen Bömmels found a subtle bug where objects that had active destruction weren&rsquo;t having their destroy functions called correctly (at all) when parrot terminated. After a couple of goes round the &lsquo;``this would be so much easier if we were all in the same room&rdquo; misunderstanding&rsquo; loop, the Right Thing was settled upon and implemented.</p>

<p><a href="http://groups.google.com/groups?threadm=m2fzi2y78e.fsf%40helium.physik.uni-kl.de">http://groups.google.com/groups</a></p>

<h4 id="span-id-an-interesting-task-for-the-evil-an-interesting-task-for-the-evil-span"><span id="an interesting task for the evil">An interesting task for the evil</span></h4>

<p>One of the things that Dan would really like to be able to promise with Parrot&rsquo;s GC is ordered destruction. Taking a leaf out of my lightning talk on complexity management, he noted that ``we just need to order the PMCs before destroying them, to make sure we don&rsquo;t call the destructor for a PMC before we destroy the things that depend on it&rdquo; and asked for volunteers to implement it.</p>

<p>Dave Mitchell spoilt the understatement party by pointing out that, in the presence of circular dependencies things got a little more complicated (but not that much more complicated, Dan claims).</p>

<p>Nobody&rsquo;s actually volunteered yet.</p>

<p><a href="http://groups.google.com/groups?threadm=Pine.LNX.4.58.0310091138510.9021%40sprite.sidhe.org">http://groups.google.com/groups</a></p>

<h4 id="span-id-parrot-gets-pioctl-parrot-gets-pioctl-span"><span id="parrot gets pioctl">Parrot gets <code>pioctl</code></span></h4>

<p>Melvin Smith added a <code>pioctl</code> op for general purpose IO manipulation in the style of the UNIX <code>ioctl</code> syscall. Dan reckoned it was almost certainly time to start thinking about a better API (though we&rsquo;re not sure if that&rsquo;s because he doesn&rsquo;t like <code>ioctl</code> as a name). Steve Fink suggested using keyed access to the IO PMC, so you could do</p>

<pre><code>   set IO, P0[.BUFSIZE]
   set P0[.BUFSIZE], 8192
</code></pre>

<p>Steve later backed away from this suggestion, suggesting that maybe <code>get/setprop</code> fit the semantics better, but Leo thought that &lsquo;fundamentals&rsquo; like buffer size belonged as keyed access, with properties being reserved for setting up things like encoding layers.</p>

<p><a href="http://groups.google.com/groups?threadm=5.1.1.6.2.20031009214007.086e1850%40pop.mindspring.com">http://groups.google.com/groups</a></p>

<h4 id="span-id-pcc-and-imc-pcc-and-imc-span"><span id="pcc and imc">PCC and IMC</span></h4>

<p>Gregor N. Purdy suggested that, instead of going through the hassle of explicitly setting up a function call under the parrot calling conventions, one could call the the function in the style of a macro call. Leo wasn&rsquo;t keen, IMCC is still an assembler after all (just a very sophisticated one). It looks like, unless Dan rules otherwise, we&rsquo;re going to stick with the current explicit method of function invocation setup, and human parrot programmers will just have to set up convenience macros explicitly.</p>

<p><a href="http://groups.google.com/groups?threadm=1065972980.22829.13.camel%40borg.focusresearch.com">http://groups.google.com/groups</a></p>

<h3 id="span-id-meanwhile-in-perl6language-meanwhile-in-perl6-language-span"><span id="meanwhile in perl6language">Meanwhile in perl6-language</span></h3>

<h3 id="span-id-acknowledgements-announcements-apologies-alliteration-acknowledgements-announcements-apologies-alliteration-span"><span id="acknowledgements, announcements, apologies, alliteration">Acknowledgements, Announcements, Apologies, Alliteration</span></h3>

<p>I&rsquo;m really sorry I used the &lsquo;&hellip;&rsquo; joke about perl6-language again. Write something people!</p>

<p>Tuesday continues to be the new Monday, and will probably remain so for a while.</p>

<p><a href="http://www.bofh.org.uk:8080/">http://www.bofh.org.uk:8080/</a> will hopefully be hosting my photos from the weekend&rsquo;s workshop.</p>

<p>If you found this summary valuable, you might like to consider one or more of the following suggestions:</p>

<ul>
<li>Get involved. There&rsquo;s at least two calls for volunteers out at the moment related to Parrot. Okay, they&rsquo;re not necessarily easy, but if you turn up on the lists (check <a href="http://dev.perl.org/perl6/">http://dev.perl.org/perl6/</a> and <a href="http://www.parrotcode.org/">http://www.parrotcode.org/</a> for subscription details) and offer to help I&rsquo;m sure we&rsquo;ll find something that needs doing.</li>
<li>Support Larry, Dan, Damian and company by donating to the Perl Foundation at <a href="http://donate.perl-foundation.org/">http://donate.perl-foundation.org/</a>. Fun as hacking Perl 6 no doubt is, it&rsquo;s very easy to get distracted from it by the pressing need to feed yourself.</li>
<li>Boost my ego. Praise my photos/this summary/my lackadaisical weblog. Suggest improvements, point out my grammatical howlers, hire me to do cool stuff, press gifts upon me. Contact me at <em><a href="mailto:p6summarizer@bofh.org.uk">p6summarizer@bofh.org.uk</a></em>, unless you&rsquo;re a spamming scumbag I can pretty much promise you a prompt response. Assuming I&rsquo;m not out hooning &lsquo;round the countryside in my new car&hellip;</li>
</ul>

              </article>
              <p><strong>Tags</strong></p>
              <div class="tags">
                <div class="category"><a href="/categories/perl-6">perl-6</a></div>
                
                  <div class="tag"><a href="/tags/perl-6-internals-parrot">perl-6-internals-parrot</a></div>
                
              </div>
            </div>
            
              
                
<div class="row" id="author-bio-piers-cawley">
  <div class="col-sm-2">
    
    <a href="/authors/piers-cawley/"><div class="circle-avatar" style="background-image:url(/images/author/piers-cawley.jpg)"></div></a>
  </div>
  <div class="col-sm-10">
    <a href="/authors/piers-cawley/"><h3>Piers Cawley</h3></a>
    <p></p>
    <h5><a href="/authors/piers-cawley/">Browse their articles</a></h5>
  </div>
</div>

            
            <div class="row">
              <h3>Feedback</h3>
              <p>Something wrong with this article? Help us out by opening an issue or pull request on <a href="https://github.com/tpf/perldotcom/blob/master/content/legacy/_pub_2003_10_p6pdigest_20031012.md">GitHub</a></p>
            </div>
          </div>
          <div class="col-md-3">
            <div class="latest-sidebar">

  <div class="row">
    <div class="col-sm-12 centering">
      <span style="font-size:1.8em" class="antonio txt-blue-major">OUR LATEST ARTICLES</span>
    </div>
  </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/the-perl-admbassador-curtis-poe/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/the-perl-ambassador-curtis-poe/curtis-poe.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>The Perl Ambassador: Curtis &#39;Ovid&#39; Poe</h6>
          <p style="line-height:1"><small>The person behind the news of Perl</small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/a-tour-with-net-ftp/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/a-tour-with-net-ftp/thumb_kidyes.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>A tour with Net::FTP</h6>
          <p style="line-height:1"><small>How to write an FTP client in Perl</small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/shortcode_test/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/author/brian-d-foy.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>shortcode_test</h6>
          <p style="line-height:1"><small></small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/listen-to-larry-wall-s-state-of-the-onion-2000-on-youtube/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/listen-to-larry-wall-s-state-of-the-onion-2000-on-youtube/thumb_larry-wall.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>Listen to Larry Wall&#39;s State of the Onion 2000 on YouTube</h6>
          <p style="line-height:1"><small></small></p>
      </div>
        </a>
    </div>
  
    
    
    <div class="row">
        <a href="http://localhost:1313/article/announcing-perl-7/">
      <div class="col-sm-3">
        <div class="circle-avatar" style="background-image:url(/images/announcing-perl-7/thumb_seven_on_blue_wall.jpg)"></div>
      </div>
      <div class="col-sm-9">
          <h6>Announcing Perl 7</h6>
          <p style="line-height:1"><small>Perl 5 with modern defaults</small></p>
      </div>
        </a>
    </div>
  
</div>
<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
  <script async src="/widget/toplinks/toplinks.js" type="text/javascript"></script>
    <div id="toplinks"></div>
  </div>
</div>

<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
    <a class="twitter-timeline" data-height="640" data-dnt="true" data-theme="dark" href="https://twitter.com/perlfoundation?ref_src=twsrc%5Etfw">Tweets by perlfoundation</a> <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
  </div>
</div>

<div class="row" style="margin-top:20px">
  <div class="col-sm-12 centering">
    <script src="https://www.reddit.com/r/perl/hot/.embed?limit=10&t=all" type="text/javascript"></script>
  </div>
</div>



          </div>
        </div>
      </div>
    </section>
  </section>
<script>
 
var tables, i;
tables = document.getElementsByTagName('table');
for (i=0;i<tables.length;i++) {
  tables[i].className = 'table table-striped';
}
</script>
<div class="push"></div>
<div class="footer">
  <div class="container">
    <div class="row">
      <div class="col-md-1">
        <h5>Site Map</h5>
        <ul>
        <li><a href="/">Home</a></li>
        <hr>
        <li><a href="/about">About</a></li>
        <hr>
        <li><a href="/authors">Authors</a></li>
        <hr>
        <li><a href="/categories">Categories</a></li>
        <hr>
        <li><a href="/tags">Tags</a></li>
        <hr>
        </ul>
      </div>
      <div class="col-md-3">
        <h5>Contact Us</h5>
        <p>To get in touch, send an email to: perl.com-editor@perl.org</p>
        <p><a href="https://perl.org">
              <img src="/images/site/perl-onion_20.png" alt="Perl Onion"></a>
          <a href="https://twitter.com/intent/follow?screen_name=perlfoundation">
              <img src="/images/site/twitter_20.png" alt="twitter"></a>
          <a href="/index.xml" /><img src="/images/site/rss_20.png" alt="rss"></a>
          <a href="https://github.com/tpf/perldotcom">
              <img src="/images/site/github_light_20.png" alt="GitHub logo"></a></p>
      </div>
      <div class="col-md-2">
          <h5>License</h5>
          <p>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-nc/3.0/">Creative Commons Attribution-NonCommercial 3.0 Unported License</a>.</p>
          <p><a rel="license" href="https://creativecommons.org/licenses/by-nc/3.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc/3.0/88x31.png" /></a></p>
      </div>
      <div class="col-md-5">
          <h5>Legal</h5>
          <p>Perl.com and the authors make no representations with respect to the accuracy or completeness of the contents of all work on this website and specifically disclaim all warranties, including without limitation warranties of fitness for a particular purpose. The information published on this website may not be suitable for every situation. All work on this website is provided with the understanding that Perl.com and the authors are not engaged in rendering professional services. Neither Perl.com nor the authors shall be liable for damages arising herefrom.</p>
      </div>
    </div>
  </div>
</div>
<script src="/javascript/jquery.min.js"></script>
<script src="/javascript/bootstrap.min.js"></script>
<script data-no-instant>document.write('<script src="/livereload.js?port=1313&mindelay=10"></' + 'script>')</script></body>
</html>

