<h2>Beginner's Introduction to Perl</h2>
<!::field::id-author::before=by+::>

<h3><a name="first, a little sales pitch">First, a Little Sales Pitch</a></h3>

<p><table width="180" cellspacing="0" cellpadding="4" align="right" border="1">
<tr>
<td align="center" valign="top" bgcolor="#6699cc">
<font color="#ffffff">Table of Contents</td>
</tr>

<tr>
<td>
<p class="fine">
&#149;<a href="#a word about operating systems">A Word About Operating Systems</a><br />
&#149;<a href="#your first perl program">Your First Perl Program</a><br />
&#149;<a href="#functions and statements">Functions and Statements</a><br />
&#149;<a href="#numbers, strings and quotes">Numbers, Strings and Quotes</a><br />
&#149;<a href="#variables">Variables</a><br />
&#149;<a href="#comments">Comments</a><br />
&#149;<a href="#loops">Loops</a><br />
&#149;<a href="#the miracle of compound interest">The Miracle of Compound Interest</a><br />
&#149;<a href="#play around!">Play Around!</a><br />
           
</td>
</tr>
</p>
</table>

<p>Welcome to Perl.</p>
<p>Perl is the Swiss Army chainsaw of scripting languages:  powerful and
adaptable.  It was first developed by Larry Wall, a linguist working
as a systems administrator for NASA in the late 1980s, as a way to make
report processing easier.  Since then, it has moved into a large number of
roles: automating system administration, acting as glue between different
computer systems; and, of course, being one of the most popular languages
for CGI programming on the Web.</p>
<p>Why did Perl become so popular when the Web came along?  Two reasons:
First, most of what is being done on the Web happens with text, and is
best done with a language that's designed for text processing.  More
importantly, Perl was appreciably better than the alternatives at the
time when people needed something to use.  C is complex and can
produce security problems (especially with untrusted data), Tcl can be awkward and Python didn't really
have a foothold.</p>
<p>It also didn't hurt that Perl is a friendly language.  It plays
well with your personal programming style.  The Perl slogan is
``There's more than one way to do it,'' and that lends itself well to
large and small problems alike.</p>
<p>In this first part of our series, you'll learn a few basics about Perl
and see a small sample program.</p>
<p>
<h3><a name="a word about operating systems">A Word About Operating Systems</a></h3>
<p>In this series, I'm going to assume that you're using a Unix system and
that your Perl interpreter is located at <code>/usr/local/bin/perl</code>.  It's OK
if you're running Windows; most Perl code is platform-independent.</p>
<p>
<h3><a name="your first perl program">Your First Perl Program</a></h3>
<p>Take the following text and put it into a file called <code>first.pl</code>:</p>
<pre>
     #!/usr/local/bin/perl
     print &quot;Hi there!\n&quot;;</pre>
<p>(Traditionally, first programs are supposed to say <code>Hello world!</code>,
but I'm an iconoclast.)</p>
<p>Now, run it with your Perl interpreter.  From a command line, go to the
directory with this file and type <code>perl first.pl</code>.  You should see:</p>
<pre>
     Hi there!</pre>
<p>The <code>\n</code> indicates the ``newline'' character; without it, Perl doesn't
skip to a new line of text on its own.</p>
<p>
<h3><a name="functions and statements">Functions and Statements</a></h3>
<p>Perl has a rich library of <em>functions</em>.  They're the verbs of Perl,
the commands that the interpreter runs.  You can see a list of all the
built-in functions on the perlfunc main page.  Almost all functions can
be given a list of <em>parameters</em>, which are separated by commas.</p>
<p>The <code>print</code> function is one of the most frequently used parts of
Perl.  You use it to display things on the screen or to send
information to a file (which we'll discuss in the next article).  It
takes a list of things to output as its parameters.</p>
<pre>
   print &quot;This is a single statement.&quot;;
   print &quot;Look, &quot;, &quot;a &quot;, &quot;list!&quot;;</pre>
<p>A Perl program consists of <em>statements</em>, each of which ends with a
semicolon.  Statements don't need to be on separate lines; there may
be multiple statements on one line or a single statement can be split
across multiple lines.</p>
<pre>
    print &quot;This is &quot;; print &quot;two statements.\n&quot;; print &quot;But this &quot;,
          &quot;is only one statement.\n&quot;;</pre>
<p>
<h3><a name="numbers, strings and quotes">Numbers, Strings and Quotes</a></h3>
<p>There are two basic data types in Perl: numbers and strings.</p>
<p>Numbers are easy; we've all dealt with them.  The only thing you need
to know is that you never insert commas or spaces into numbers in Perl.
always write 10000, not 10,000 or 10 000.</p>
<p>Strings are a bit more complex.  A string is a collection of characters
in either single or double quotes:</p>
<pre>
   'This is a test.'
   &quot;Hi there!\n&quot;</pre>
<p>The difference between single quotes and double quotes is that single
quotes mean that their contents should be taken <em>literally</em>, while double
quotes mean that their contents should be <em>interpreted</em>.  For example,
the character sequence <code>\n</code> is a newline character when it appears in a
string with double quotes, but is literally the two characters, backslash
and <code>n</code>, when it appears in single quotes.</p>
<pre>
    print &quot;This string\nshows up on two lines.&quot;;
    print 'This string \n shows up on only one.';</pre>
<p>(Two other useful backslash sequences are <code>\t</code> to insert a tab character,
and <code>\\</code> to insert a backslash into a double-quoted string.)</p>
<p>
<h3><a name="variables">Variables</a></h3>
<p>If functions are Perl's verbs, then variables are its nouns.  Perl has
three types of variables: <em>scalars</em>, <em>arrays</em> and <em>hashes</em>.  Think of
them as ``things,'' ``lists,'' and ``dictionaries.''    In Perl, all variable
names are a punctuation character, a letter or underscore, and one or more
alphanumeric characters or underscores.</p>
<p><em>Scalars</em> are single things.  This might be a number or a string.
The name of a scalar begins with a dollar sign, such as <code>$i</code> or
<code>$abacus</code>.  You assign a value to a scalar by telling Perl what it
equals, like so:</p>
<pre>
    $i = 5;
    $pie_flavor = 'apple';
    $constitution1776 = &quot;We the People, etc.&quot;;</pre>
<p>You don't need to specify whether a scalar is a number or a string.
It doesn't matter, because when Perl needs to treat a scalar as a string,
it does; when it needs to treat it as a number, it does.  The conversion
happens automatically.  (This is different from many other languages,
where strings and numbers are two separate data types.)</p>
<p>If you use a double-quoted string, Perl will insert the value of any
scalar variables you name in the string.  This is often used to fill in
strings on the fly:</p>
<pre>
    $apple_count = 5; 
    $count_report = &quot;There are $apple_count apples.&quot;;
    print &quot;The report is: $count_report\n&quot;;</pre>
<p>The final output from this code is <code>The report is: There are 5 apples.</code>.</p>
<p>Numbers in Perl can be manipulated with the usual mathematical
operations: addition, multiplication, division and subtraction.
(Multiplication and division are indicated in Perl with the <code>*</code> and
<code>/</code> symbols, by the way.)</p>
<pre>
    $a = 5;
    $b = $a + 10;       # $b is now equal to 15.
    $c = $b * 10;       # $c is now equal to 150.
    $a = $a - 1;        # $a is now 4, and algebra teachers are cringing.</pre>
<p>You can also use special operators like <code>++</code>, <code>--</code>, <code>+=</code>, <code>-=</code>, <code>/=</code> and <code>*=</code>.
These manipulate a scalar's value without needing two elements in an
equation.  Some people like them, some don't.  I like the fact that they
can make code clearer.</p>
<pre>
   $a = 5;
   $a++;        # $a is now 6; we added 1 to it.
   $a += 10;    # Now it's 16; we added 10.
   $a /= 2;     # And divided it by 2, so it's 8.</pre>
<p>Strings in Perl don't have quite as much flexibility.  About the only
basic operator that you can use on strings is <em>concatenation</em>, which is
a $10 way of saying ``put together.''  The concatenation operator
is the period.  Concatenation and addition are two different things:</p>
<pre>
   $a = &quot;8&quot;;    # Note the quotes.  $a is a string.
   $b = $a + &quot;1&quot;;   # &quot;1&quot; is a string too.
   $c = $a . &quot;1&quot;;   # But $b and $c have different values!</pre>
<p>Remember that Perl converts strings to numbers transparently whenever
it's needed, so to get the value of <code>$b</code>, the Perl interpreter converted
the two strings <code>&quot;8&quot;</code> and <code>&quot;1&quot;</code> to numbers, then added them.  The value of
<code>$b</code> is the number 9.  However, <code>$c</code> used concatenation, so its value is
the string <code>&quot;81&quot;</code>.</p>
<p>Just remember, the plus sign <em>adds numbers</em> and the period <em>puts
strings together</em>.</p>
<p><em>Arrays</em> are lists of scalars.  Array names begin with <code>@</code>.  You define
arrays by listing their contents in parentheses, separated by commas:</p>
<pre>
    @lotto_numbers = (1, 2, 3, 4, 5, 6);  # Hey, it could happen.
    @months = (&quot;July&quot;, &quot;August&quot;, &quot;September&quot;);</pre>
<p>The contents of an array are <em>indexed</em> beginning with 0.  (Why not 1?
Because.  It's a computer thing.)  To retrieve the elements of an array,
you replace the <code>@</code> sign with a <code>$</code> sign, and follow that with the
index position of the element you want.  (It begins with a dollar sign
because you're getting a scalar value.)  You can also modify it in place,
just like any other scalar.</p>
<pre>
    @months = (&quot;July&quot;, &quot;August&quot;, &quot;September&quot;);
    print $months[0];   # This prints &quot;July&quot;.
    $months[2] = &quot;Smarch&quot;;  # We just renamed September!</pre>
<p>If an array doesn't exist, by the way, you'll create it when you try to
assign a value to one of its elements.</p>
<pre>
    $winter_months[0] = &quot;December&quot;;  # This implicitly creates @winter_months.</pre>
<p>Arrays always return their contents in the same order; if you go
through <code>@months</code> from beginning to end, no matter how many times
you do it, you'll get back <code>July</code>, <code>August</code> and <code>March</code> in that order.
If you want to find the length
of an array, use the value <code>$#array_name</code>.  This is one less than
the number of elements in the array.  If the array just doesn't exist
or is empty, <code>$#array_name</code> is -1.  If you want to resize an array,
just change the value of <code>$#array_name</code>.</p>
<pre>
    @months = (&quot;July&quot;, &quot;August&quot;, &quot;September&quot;);
    print $#months;         # This prints 2.
    $a1 = $#autumn_months;  # We don't have an @autumn_months, so this is -1.
    $#months = 0;           # Now @months only contains &quot;July&quot;.</pre>
<p><em>Hashes</em> are called ``dictionaries'' in some programming languages,
and that's what they are: a term and a definition, or in more correct
language a <em>key</em> and a <em>value</em>.  Each key in a hash has one and only one
corresponding value.  The name of a hash begins with a percentage sign, like <code>%parents</code>.  You define hashes by comma-separated pairs of
key and value, like so:</p>
<pre>
    %days_in_month = ( &quot;July&quot; =&gt; 31, &quot;August&quot; =&gt; 31, &quot;September&quot; =&gt; 30 );</pre>
<p>You can fetch any value from a hash by referring to <code>$hashname{key}</code>,
or modify it in place just like any other scalar.</p>
<pre>
    print $days_in_month{&quot;September&quot;}; # 30, of course.
    $days_in_month{&quot;February&quot;} = 29;   # It's a leap year.</pre>
<p>If you want to see what keys are in a hash, you can use the <code>keys</code>
function with the name of the hash.  This returns a list containing
all of the keys in the hash.  The list isn't always in the same order,
though; while we could count on <code>@months</code> to always return
<code>July</code>, <code>August</code>, <code>September</code> in that order, <code>keys %days_in_summer</code> might
return them in any order whatsoever.</p>
<pre>
    @month_list = keys %days_in_summer;
    # @month_list is now ('July', 'September', 'August') !</pre>
<p>The three types of variables have three separate <em>namespaces</em>.  That
means that <code>$abacus</code> and <code>@abacus</code> are two different variables, and
<code>$abacus[0]</code> (the first element of <code>@abacus</code>) is not the same as
<code>$abacus{0}</code> (the value in <code>«acus</code> that has the key <code>0</code>).</p>
<p>
<h3><a name="comments">Comments</a></h3>
<p>Notice that in some of the code samples from the previous section, I've
used code comments.  These are useful for explaining what a particular
piece of code does, and vital for any piece of code you plan to modify, enhance, fix, or just look at again.  (That is to say, comments
are vital for all code.)</p>
<p>Anything in a line of Perl code that follows a # sign is a comment.
(Except, of course, if the # sign appears in a string.)</p>
<pre>
   print &quot;Hello world!\n&quot;;  # That's more like it.
   # This entire line is a comment.</pre>
<p>
<h3><a name="loops">Loops</a></h3>
<p>Almost every time you write a program, you'll need to use a <em>loop</em>.
Loops allow you run a particular piece of code over and over again.
This is part of a general concept in programming called <em>flow control</em>.</p>
<p>Perl has several different functions that are useful for flow control,
the most basic of which is <code>for</code>.  When you use the <code>for</code> function,
you specify a variable that will be used for the <em>loop index</em>, and a
list of values to loop over.  Inside a pair of curly brackets, you put
any code you want to run during the loop:</p>
<pre>
     for $i (1, 2, 3, 4, 5) {
         print &quot;$i\n&quot;;
     }</pre>
<p>This loop prints the numbers 1 through 5, each on a separate line.</p>
<p>A handy shortcut for defining loops is using <code>..</code> to specify a <em>range</em>
of numbers.  You can write (1, 2, 3, 4, 5) as (1 .. 5).  You can also use
arrays and scalars in your loop list.  Try this code and see what happens:</p>
<pre>
    @one_to_ten = (1 .. 10);
    $top_limit = 25;
    for $i (@one_to_ten, 15, 20 .. $top_limit) {
        print &quot;$i\n&quot;;
    }</pre>
<p>The items in your loop list don't have to be numbers; you can use strings
just as easily.  If the hash <code>%month</code>_has contains names of months and
the number of days in each month, you can use the keys function to step
through them.</p>
<pre>
    for $i (keys %month_has) {
        print &quot;$i has $month_has{$i} days.\n&quot;;
    }</pre>
<pre>
    for $marx ('Groucho', 'Harpo', 'Zeppo', 'Karl') {
        print &quot;$marx is my favorite Marx brother.\n&quot;;
    }</pre>
<p>
<h3><a name="the miracle of compound interest">The Miracle of Compound Interest</a></h3>
<p>You now know enough about Perl - variables, print, and <code>for()</code> - to write a small, useful program.  Everyone loves money, so the first sample
program is a compound-interest calculator.  It will print a (somewhat)
nicely formatted table showing the value of an investment over a number
of years.  (You can see the program at <a href="/2000/10/compound_interest.pl"><tt>compound_interest.pl</tt></a>)</p>
<p>The single most complex line in the program is this one:</p>
<pre>
    $interest = int (($apr / 100) * $nest_egg * 100) / 100;</pre>
<p><code>$apr / 100</code> is the interest rate, and <code>($apr / 100) * $nest_egg</code> is
the amount of interest earned in one year.  This line uses the
<code>int()</code> function, which returns the integer value of a scalar (its
value after any fractional part has been stripped off).  We use
<code>int()</code> here because when you multiply, for example, 10925 by
9.25%, the result is 1010.5625, which  we must round off to
1010.56.  To do this, we multiply by 100, yielding 101056.25, use
<code>int()</code> to throw away the leftover fraction, yielding 101056, and
then divide by 100 again, so that the final result is 1010.56.  Try
stepping through this statement yourself to see just how we end up
with the correct result, rounded to cents.</p>
<p>
<h3><a name="play around!">Play Around!</a></h3>
<p>At this point you have some basic knowledge of Perl syntax and a few
simple toys to play with - <code>print</code>, <code>for()</code>, <code>keys()</code>, and <code>int()</code>.
Try writing some simple programs with them.  Here are two suggestions,
one simple and the other a little more complex:</p>
<ul><li>
       A word frequency counter.  How often does each word show up in
       an array of words?  Print out a report. (Hint: Use a hash to
       count of the number of appearances of each word.)<p>
<li>
       Given a month and the day of the week that's the first of that
       month, print a calendar for the month.  (Remember, you need <code>\n</code>
       to go to a new line.)<p>
</ul>

</body>

</html>